<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Book Upload - Admin Dashboard - BookMarket</title>
        <link rel="stylesheet" href="../../css/styles.css" />
        <!-- Additional CSS for Admin Book Upload page -->
        <style>
            /* Admin Book Upload Page Specific Styles */
            .upload-container {
                max-width: var(--container-width);
                margin: 2rem auto;
                padding: 0 1rem;
            }

            .upload-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 2rem;
                flex-wrap: wrap;
                gap: 1rem;
            }

            .upload-header h1 {
                margin-bottom: 0.5rem;
                color: var(--dark-color);
            }

            .upload-header p {
                color: #666;
            }

            .upload-layout {
                display: flex;
                gap: 2rem;
            }

            .upload-sidebar {
                width: 250px;
                flex-shrink: 0;
            }

            .upload-content {
                flex: 1;
            }

            .sidebar-menu {
                background-color: #2c3e50;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }

            .sidebar-menu-item {
                padding: 1rem 1.5rem;
                display: flex;
                align-items: center;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
                cursor: pointer;
                transition: all 0.3s ease;
                color: white;
                text-decoration: none;
            }

            .sidebar-menu-item:last-child {
                border-bottom: none;
            }

            .sidebar-menu-item.active {
                background-color: var(--primary-color);
            }

            .sidebar-menu-item:hover:not(.active) {
                background-color: rgba(255, 255, 255, 0.1);
            }

            .sidebar-menu-item i {
                margin-right: 0.8rem;
                width: 20px;
                text-align: center;
            }

            .upload-form {
                background-color: white;
                border-radius: 8px;
                padding: 2rem;
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            }

            .form-section {
                margin-bottom: 2rem;
            }

            .form-section h3 {
                color: var(--dark-color);
                margin-bottom: 1rem;
                padding-bottom: 0.5rem;
                border-bottom: 2px solid var(--primary-color);
            }

            .form-row {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 1rem;
                margin-bottom: 1rem;
            }

            .form-group {
                margin-bottom: 1rem;
            }

            .form-group label {
                display: block;
                margin-bottom: 0.5rem;
                font-weight: 600;
                color: var(--dark-color);
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                width: 100%;
                padding: 0.75rem;
                border: 1px solid var(--border-color);
                border-radius: 4px;
                font-size: 1rem;
                transition: border-color 0.3s ease;
            }

            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                outline: none;
                border-color: var(--primary-color);
                box-shadow: 0 0 0 2px rgba(58, 90, 128, 0.1);
            }

            .form-group textarea {
                resize: vertical;
                min-height: 100px;
            }

            .form-group.full-width {
                grid-column: 1 / -1;
            }

            .image-upload-section {
                border: 2px dashed var(--border-color);
                border-radius: 8px;
                padding: 2rem;
                text-align: center;
                transition: all 0.3s ease;
                cursor: pointer;
            }

            .image-upload-section:hover {
                border-color: var(--primary-color);
                background-color: rgba(58, 90, 128, 0.05);
            }

            .image-upload-section.dragover {
                border-color: var(--primary-color);
                background-color: rgba(58, 90, 128, 0.1);
            }

            .image-upload-icon {
                font-size: 3rem;
                color: var(--primary-color);
                margin-bottom: 1rem;
            }

            .image-upload-text {
                color: #666;
                margin-bottom: 1rem;
            }

            .image-upload-text strong {
                color: var(--primary-color);
            }

            .image-preview {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 1rem;
                margin-top: 1rem;
            }

            .image-preview-item {
                position: relative;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .image-preview-item img {
                width: 100%;
                height: 150px;
                object-fit: cover;
            }

            .image-preview-item .remove-image {
                position: absolute;
                top: 0.5rem;
                right: 0.5rem;
                background-color: rgba(231, 76, 60, 0.9);
                color: white;
                border: none;
                border-radius: 50%;
                width: 24px;
                height: 24px;
                cursor: pointer;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 0.8rem;
            }

            .upload-actions {
                display: flex;
                gap: 1rem;
                justify-content: flex-end;
                margin-top: 2rem;
                padding-top: 2rem;
                border-top: 1px solid var(--border-color);
            }

            .btn-upload {
                background-color: var(--success-color);
                color: white;
                border: none;
                padding: 0.75rem 2rem;
                border-radius: 4px;
                font-size: 1rem;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .btn-upload:hover {
                background-color: #27ae60;
            }

            .btn-upload:disabled {
                background-color: #bdc3c7;
                cursor: not-allowed;
            }

            .btn-cancel {
                background-color: var(--danger-color);
                color: white;
                border: none;
                padding: 0.75rem 2rem;
                border-radius: 4px;
                font-size: 1rem;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .btn-cancel:hover {
                background-color: #c0392b;
            }

            .progress-bar {
                width: 100%;
                height: 8px;
                background-color: var(--border-color);
                border-radius: 4px;
                overflow: hidden;
                margin-top: 1rem;
                display: none;
            }

            .progress-fill {
                height: 100%;
                background-color: var(--success-color);
                width: 0%;
                transition: width 0.3s ease;
            }

            .alert {
                padding: 1rem;
                border-radius: 4px;
                margin-bottom: 1rem;
                display: none;
            }

            .alert-success {
                background-color: rgba(39, 174, 96, 0.1);
                color: var(--success-color);
                border: 1px solid rgba(39, 174, 96, 0.3);
            }

            .alert-error {
                background-color: rgba(231, 76, 60, 0.1);
                color: var(--danger-color);
                border: 1px solid rgba(231, 76, 60, 0.3);
            }

            .required-field::after {
                content: " *";
                color: var(--danger-color);
            }

            /* Responsive Design */
            @media (max-width: 768px) {
                .upload-layout {
                    flex-direction: column;
                }

                .upload-sidebar {
                    width: 100%;
                }

                .form-row {
                    grid-template-columns: 1fr;
                }

                .upload-actions {
                    flex-direction: column;
                }

                .btn-upload,
                .btn-cancel {
                    width: 100%;
                }
            }
        </style>
        <!-- Font Awesome for icons -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        />
    </head>
    <body>
        <!-- Navbar (Common Admin Navbar) -->
        <nav class="navbar">
            <!-- Navbar will be generated by admin-navbar.js -->
        </nav>

        <!-- Book Upload Content -->
        <div class="upload-container">
            <div class="upload-header">
                <div>
                    <h1>Book Upload</h1>
                    <p>Add new books to the BookMarket platform</p>
                </div>
            </div>

            <div class="upload-layout">
                <!-- Upload Main Content (no sidebar for this page) -->
                <div class="upload-content" style="width: 100%">
                    <!-- Alert Messages -->
                    <div id="alert-success" class="alert alert-success"></div>
                    <div id="alert-error" class="alert alert-error"></div>

                    <!-- Upload Form -->
                    <form id="book-upload-form" class="upload-form">
                        <!-- Basic Information -->
                        <div class="form-section">
                            <h3>Basic Information</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="title" class="required-field"
                                        >Book Title</label
                                    >
                                    <input
                                        type="text"
                                        id="title"
                                        name="title"
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label for="author" class="required-field"
                                        >Author</label
                                    >
                                    <input
                                        type="text"
                                        id="author"
                                        name="author"
                                        required
                                    />
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="isbn">ISBN</label>
                                    <input
                                        type="text"
                                        id="isbn"
                                        name="isbn"
                                        placeholder="Optional"
                                    />
                                </div>
                                <div class="form-group">
                                    <label
                                        for="category_id"
                                        class="required-field"
                                        >Category</label
                                    >
                                    <select
                                        id="category_id"
                                        name="category_id"
                                        required
                                    >
                                        <option value="">
                                            Select Category
                                        </option>
                                        <!-- Categories will be loaded dynamically -->
                                    </select>
                                </div>
                            </div>
                            <div class="form-group full-width">
                                <label for="description">Description</label>
                                <textarea
                                    id="description"
                                    name="description"
                                    placeholder="Enter book description..."
                                ></textarea>
                            </div>
                        </div>

                        <!-- Book Details -->
                        <div class="form-section">
                            <h3>Book Details</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="price" class="required-field"
                                        >Price (BDT)</label
                                    >
                                    <input
                                        type="number"
                                        id="price"
                                        name="price"
                                        min="0"
                                        step="0.01"
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label
                                        for="stock_quantity"
                                        class="required-field"
                                        >Stock Quantity</label
                                    >
                                    <input
                                        type="number"
                                        id="stock_quantity"
                                        name="stock_quantity"
                                        min="1"
                                        step="1"
                                        value="1"
                                        required
                                    />
                                </div>
                                <div class="form-group">
                                    <label
                                        for="book_condition"
                                        class="required-field"
                                        >Book Condition</label
                                    >
                                    <select
                                        id="book_condition"
                                        name="book_condition"
                                        required
                                    >
                                        <option value="">
                                            Select Condition
                                        </option>
                                        <option value="New">New</option>
                                        <option value="Excellent">
                                            Excellent
                                        </option>
                                        <option value="Good">Good</option>
                                        <option value="Fair">Fair</option>
                                        <option value="Poor">Poor</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Image Upload -->
                        <div class="form-section">
                            <h3>Book Images</h3>
                            <div class="form-group">
                                <label for="cover_image" class="required-field"
                                    >Cover Image</label
                                >
                                <div
                                    class="image-upload-section"
                                    id="cover-upload-section"
                                >
                                    <div class="image-upload-icon">
                                        <i class="fas fa-image"></i>
                                    </div>
                                    <div class="image-upload-text">
                                        <strong>Click to upload</strong> or drag
                                        and drop<br />
                                        Cover image for the book (Required)
                                    </div>
                                    <input
                                        type="file"
                                        id="cover_image"
                                        name="cover_image"
                                        accept="image/*"
                                        style="display: none"
                                        required
                                    />
                                </div>
                                <div
                                    id="cover-preview"
                                    class="image-preview"
                                ></div>
                            </div>
                            <div class="form-group">
                                <label for="additional_images"
                                    >Additional Images</label
                                >
                                <div
                                    class="image-upload-section"
                                    id="additional-upload-section"
                                >
                                    <div class="image-upload-icon">
                                        <i class="fas fa-images"></i>
                                    </div>
                                    <div class="image-upload-text">
                                        <strong>Click to upload</strong> or drag
                                        and drop<br />
                                        Additional book images (Optional)
                                    </div>
                                    <input
                                        type="file"
                                        id="additional_images"
                                        name="additional_images"
                                        accept="image/*"
                                        multiple
                                        style="display: none"
                                    />
                                </div>
                                <div
                                    id="additional-preview"
                                    class="image-preview"
                                ></div>
                            </div>
                        </div>

                        <!-- Progress Bar -->
                        <div class="progress-bar" id="upload-progress">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>

                        <!-- Form Actions -->
                        <div class="upload-actions">
                            <button
                                type="button"
                                class="btn-cancel"
                                id="cancel-upload"
                            >
                                Cancel
                            </button>
                            <button
                                type="submit"
                                class="btn-upload"
                                id="submit-upload"
                            >
                                <i class="fas fa-upload"></i> Upload Book
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- JavaScript -->
        <script src="../../js/admin-navbar.js"></script>
        <script src="../../js/admin-book-upload.js"></script>
    </body>
</html>
